const _0x97df4d=_0x51ac;(function(_0x768ff3,_0x37b72d){const _0x583e8d=_0x51ac,_0xd1653f=_0x768ff3();while(!![]){try{const _0x267ec6=parseInt(_0x583e8d(0x9e))/0x1*(parseInt(_0x583e8d(0xbc))/0x2)+-parseInt(_0x583e8d(0xc7))/0x3+-parseInt(_0x583e8d(0x9f))/0x4+parseInt(_0x583e8d(0xcb))/0x5*(parseInt(_0x583e8d(0x9a))/0x6)+-parseInt(_0x583e8d(0xc8))/0x7*(-parseInt(_0x583e8d(0xa9))/0x8)+-parseInt(_0x583e8d(0xb7))/0x9*(parseInt(_0x583e8d(0x9d))/0xa)+parseInt(_0x583e8d(0xad))/0xb;if(_0x267ec6===_0x37b72d)break;else _0xd1653f['push'](_0xd1653f['shift']());}catch(_0x37daef){_0xd1653f['push'](_0xd1653f['shift']());}}}(_0x8647,0xcda55));function _0x8647(){const _0x1cfa24=['ine','get','PWB','con','9mZjLkm','uel','len','ING','ing','916isdRnY','tot','mpJ','ate','ify','ext','STR','Siu','xdT','ABA','set','4032468spNHkj','756cDaqwX','end','tsD','142060AFWDHn','def','DAT','TEX','Sto','upd','Qbb','gth','54uUHkZH','ejz','Alg','13001750eBoUPE','2699mBXAwB','5562008GNVDsT','sau','str','tac','Cha','fig','Con','tim','cha','sto','72360elFRcX','dfW','JqS','seq','26492928aNtrTf','fin','../','par','dAl','cre'];_0x8647=function(){return _0x1cfa24;};return _0x8647();}const {DataTypes}=require(_0x97df4d(0xac)+_0x97df4d(0xb8)+'ize'),config=require('../'+_0x97df4d(0xaf)+_0x97df4d(0xb6)+_0x97df4d(0xa4)),ContactsDB=config['DAT'+'ABA'+'SE'][_0x97df4d(0xcc)+_0x97df4d(0xb3)](_0x97df4d(0xb6)+'tac'+'ts',{'contacts':{'type':DataTypes[_0x97df4d(0xce)+'T']}});exports[_0x97df4d(0xb4)+_0x97df4d(0xa5)+_0x97df4d(0xa2)+'ts']=async()=>{const _0x316885=_0x97df4d,_0x463049={'ejzTa':function(_0x3c9de0,_0x1b7765){return _0x3c9de0<_0x1b7765;}},_0x112fad=await ContactsDB[_0x316885(0xae)+'dAl'+'l']({'where':{}});if(_0x463049[_0x316885(0x9b)+'Ta'](_0x112fad[_0x316885(0xb9)+'gth'],0x1))return[];else return JSON[_0x316885(0xb0)+'se'](_0x112fad[0x0][_0x316885(0xb6)+_0x316885(0xa2)+'ts']);},exports[_0x97df4d(0xc6)+_0x97df4d(0xa5)+_0x97df4d(0xa2)+'ts']=async _0x2148a2=>{const _0x448fbd=_0x97df4d,_0x4c3d38={'Siuhq':function(_0x503d7e,_0x203f7f){return _0x503d7e<_0x203f7f;}},_0x396d3b=await ContactsDB[_0x448fbd(0xae)+_0x448fbd(0xb1)+'l']();if(_0x4c3d38[_0x448fbd(0xc3)+'hq'](_0x396d3b[_0x448fbd(0xb9)+_0x448fbd(0x99)],0x1))await ContactsDB['cre'+_0x448fbd(0xbf)]({'contacts':_0x2148a2});else _0x396d3b[0x0][_0x448fbd(0x97)+_0x448fbd(0xbf)]({'contacts':_0x2148a2});},exports['Cha'+_0x97df4d(0xca)+'B']=config['DAT'+'ABA'+'SE'][_0x97df4d(0xcc)+_0x97df4d(0xb3)](_0x97df4d(0xa7)+'ts',{'chats':{'type':DataTypes[_0x97df4d(0xce)+'T']}}),exports['get'+_0x97df4d(0xa3)+'ts']=async()=>{const _0x33c84f=_0x97df4d,_0x3f75b4={'dfWAQ':function(_0x40d320,_0x2550a2){return _0x40d320<_0x2550a2;}},_0x61285b=await ChatsDB[_0x33c84f(0xae)+_0x33c84f(0xb1)+'l']({'where':{}});if(_0x3f75b4[_0x33c84f(0xaa)+'AQ'](_0x61285b['len'+_0x33c84f(0x99)],0x1))return[];else return JSON[_0x33c84f(0xb0)+'se'](_0x61285b[0x0]['cha'+'ts']);},exports[_0x97df4d(0xc6)+_0x97df4d(0xa3)+'ts']=async _0x279aad=>{const _0x2cb885=_0x97df4d,_0x3d71ca={'JqSey':function(_0xa010df,_0x27579d){return _0xa010df<_0x27579d;}},_0x2b85eb=await ChatsDB[_0x2cb885(0xae)+_0x2cb885(0xb1)+'l']();if(_0x3d71ca[_0x2cb885(0xab)+'ey'](_0x2b85eb[_0x2cb885(0xb9)+_0x2cb885(0x99)],0x1))await ChatsDB[_0x2cb885(0xb2)+_0x2cb885(0xbf)]({'chats':_0x279aad});else _0x2b85eb[0x0][_0x2cb885(0x97)+_0x2cb885(0xbf)]({'chats':_0x279aad});};function _0x51ac(_0x1e6577,_0xdee146){const _0x864717=_0x8647();return _0x51ac=function(_0x51ac47,_0x4a346a){_0x51ac47=_0x51ac47-0x96;let _0x584374=_0x864717[_0x51ac47];return _0x584374;},_0x51ac(_0x1e6577,_0xdee146);}const DbDB=config[_0x97df4d(0xcd)+_0x97df4d(0xc5)+'SE']['def'+_0x97df4d(0xb3)]('db',{'db':{'type':DataTypes['TEX'+'T']}});exports[_0x97df4d(0xc6)+'Db']=async()=>{const _0x59e742=_0x97df4d,_0x511dcb={'sauug':function(_0x4e2198,_0x96d14b){return _0x4e2198<_0x96d14b;}},_0x18cf6a=await DbDB[_0x59e742(0xae)+_0x59e742(0xb1)+'l']();if(_0x511dcb[_0x59e742(0xa0)+'ug'](_0x18cf6a[_0x59e742(0xb9)+_0x59e742(0x99)],0x1))await DbDB[_0x59e742(0xb2)+_0x59e742(0xbf)]({'db':JSON['str'+_0x59e742(0xbb)+_0x59e742(0xc0)](global['db'])});else await _0x18cf6a[0x0][_0x59e742(0x97)+_0x59e742(0xbf)]({'db':JSON[_0x59e742(0xa1)+_0x59e742(0xbb)+_0x59e742(0xc0)](global['db'])});},exports[_0x97df4d(0xb4)+'Db']=async()=>{const _0x552759=_0x97df4d,_0x21af45={'mpJIt':function(_0xd1b6c5,_0xce3265){return _0xd1b6c5<_0xce3265;}},_0x1f5e18=await DbDB[_0x552759(0xae)+_0x552759(0xb1)+'l']();_0x21af45[_0x552759(0xbe)+'It'](_0x1f5e18[_0x552759(0xb9)+'gth'],0x1)?global['db']={}:global['db']=JSON[_0x552759(0xb0)+'se'](_0x1f5e18[0x0]['db']);};const storeDB=config['DAT'+_0x97df4d(0xc5)+'SE'][_0x97df4d(0xcc)+_0x97df4d(0xb3)](_0x97df4d(0xa8)+'re',{'jid':{'type':DataTypes[_0x97df4d(0xc2)+_0x97df4d(0xba)],'allowNull':![]},'data':{'type':DataTypes[_0x97df4d(0xce)+'T'],'allowNull':![],'defaultValue':'{}'}});exports[_0x97df4d(0xc6)+_0x97df4d(0x96)+'re']=async(_0x2256f6,_0x2c3b9e,_0x43599e)=>{const _0x2af45d=_0x97df4d,_0x30bfe1={'xdTrt':function(_0x73c9f7,_0x2edcd2){return _0x73c9f7==_0x2edcd2;},'zpKNv':_0x2af45d(0xc1)+_0x2af45d(0xc9)+'ed','eIojY':'tex'+'t','QbbCu':function(_0x8dfa8f,_0x1ccddd){return _0x8dfa8f<_0x1ccddd;},'PWBXZ':'typ'+'e','AlggG':function(_0x103c97,_0x1c679c){return _0x103c97+_0x1c679c;}};_0x43599e=_0x30bfe1[_0x2af45d(0xc4)+'rt'](_0x43599e,_0x30bfe1['zpK'+'Nv'])?_0x30bfe1['eIo'+'jY']:_0x43599e;const _0x154542=new Date()[_0x2af45d(0xb4)+'Tim'+'e'](),_0x606941=await storeDB[_0x2af45d(0xae)+_0x2af45d(0xb1)+'l']({'where':{'jid':_0x2256f6}});if(_0x30bfe1[_0x2af45d(0x98)+'Cu'](_0x606941[_0x2af45d(0xb9)+'gth'],0x1)){const _0x1d0ef3={[_0x2c3b9e]:{'total':0x1,'type':{[_0x43599e]:0x1},'time':_0x154542}};await storeDB[_0x2af45d(0xb2)+_0x2af45d(0xbf)]({'jid':_0x2256f6,'data':JSON[_0x2af45d(0xa1)+_0x2af45d(0xbb)+_0x2af45d(0xc0)](_0x1d0ef3)});}else{const _0x21c74f=JSON[_0x2af45d(0xb0)+'se'](_0x606941[0x0]['dat'+'a']),_0x75a60=_0x21c74f[_0x2c3b9e];if(_0x75a60){const _0x16aa89=_0x75a60[_0x30bfe1[_0x2af45d(0xb5)+'XZ']];_0x75a60[_0x2af45d(0xbd)+'al']=_0x30bfe1['Alg'+'gG'](_0x75a60[_0x2af45d(0xbd)+'al'],0x1),_0x75a60[_0x2af45d(0xa6)+'e']=_0x154542;if(_0x16aa89[_0x43599e])_0x16aa89[_0x43599e]=_0x30bfe1[_0x2af45d(0x9c)+'gG'](_0x16aa89[_0x43599e],0x1);else _0x16aa89[_0x43599e]=0x1;_0x75a60['typ'+'e']=_0x16aa89,_0x21c74f[_0x2c3b9e]=_0x75a60;}else _0x21c74f[_0x2c3b9e]={'total':0x1,'type':{[_0x43599e]:0x1},'time':_0x154542};await _0x606941[0x0][_0x2af45d(0x97)+_0x2af45d(0xbf)]({'jid':_0x2256f6,'data':JSON[_0x2af45d(0xa1)+_0x2af45d(0xbb)+_0x2af45d(0xc0)](_0x21c74f)});}};